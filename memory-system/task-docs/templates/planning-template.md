<!-- MANDATORY: Create this BEFORE any code changes
     Workflow: Check todo-list → Mark IN PROGRESS → Check conflicts → Create this doc
     Reference: CLAUDE.md Section 2 -->

# Task Planning Document

## 📋 Task Information
- **Task ID**: TASK-XXX
- **Date**: YYYY-MM-DD HH:MM
- **Agent**: [Agent Name]
- **Priority**: HIGH/MEDIUM/LOW
- **Estimated Time**: X hours
- **Related Issue/TODO**: #XXX or reference to todo-list.md

## 🎯 Task Description
[Clear, concise description of what needs to be accomplished]

## 🔍 Root Cause Analysis
[Identify the actual problem, not just symptoms]
- **Symptom**: What is visibly wrong
- **Root Cause**: Why it's happening
- **Proper Fix**: How to address the root cause (no workarounds)

## 📊 Current State Analysis
### What Currently Exists
- [List current files, systems, or features relevant to the task]
- [Current limitations or problems]

### Dependencies
- [External dependencies]
- [Other tasks that must be completed first]
- [Required tools or libraries]

## 🏗️ Detailed Plan

### Step 1: [Step Name]
**Objective**: [What this step accomplishes]
**Actions**:
1. [Specific action]
2. [Specific action]
**Files to Modify/Create**:
- `path/to/file1.ts` - [What changes]
**Estimated Time**: X minutes

### Step 2: [Step Name]
**Objective**: [What this step accomplishes]
**Actions**:
1. [Specific action]
2. [Specific action]
**Files to Modify/Create**:
- `path/to/file2.ts` - [What changes]
**Estimated Time**: X minutes

### Step 3: Testing & Validation
**Tests to Run**:
- [ ] Unit tests
- [ ] Integration tests
- [ ] Manual testing
**Validation Criteria**:
- [ ] [Specific success criterion]

## ✅ Success Criteria
- [ ] [Measurable success criterion]
- [ ] [Measurable success criterion]
- [ ] All tests passing
- [ ] Documentation updated
- [ ] Root cause fixed (not just symptoms)

## 🎨 Design Decisions (OPTIONAL)
### Decision 1: [Decision Topic]
**Options Considered**: A vs B
**Chosen**: Option A
**Rationale**: [Why this option was selected]

## 🔄 Rollback Plan (IF APPLICABLE)
If something goes wrong:
1. [Step to revert changes]
2. [How to verify rollback succeeded]

## 📝 Notes
[Any additional context, thoughts, or concerns]

## 🔗 References (OPTIONAL)
- [Link to relevant documentation]
- [Link to similar implementations]

---
**Planning Completed**: YYYY-MM-DD HH:MM
**Ready to Execute**: YES/NO